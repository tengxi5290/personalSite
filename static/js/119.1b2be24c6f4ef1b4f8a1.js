webpackJsonp([119],{MzpN:function(e,t,a){"use strict";function s(e){a("p11t")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("5HJ5"),o=(a("mtWM"),a("nSkA")),r={mixins:[n.a],data:function(){return{tableData:[],pickedData:[]}},methods:{getTableList:function(){var e=this;o.a.get(this.$api.syncModelList).then(function(t){"0"==t.data.errorCode?e.tableData=t.data.data:t.data.errorMessage?e.errorMessage(t.data.errorMessage):e.errorMessage("请求失败")}).catch(function(e){console.log(e)})},getSyncModify:function(e){this.pickedData=e},saveSyncName:function(){var e=this,t=[],a=[];for(var s in this.pickedData)t.push(this.pickedData[s].id),a.push(this.pickedData[s].syncModel);o.a.put(this.$api.sncModelUpdate+"?syncModelIds="+t.join(",")+"&syncModels="+a.join(",")).then(function(t){"0"==t.data.errorCode?(e.successMessage("操作成功"),setTimeout(function(){e.getTableList()},1e3)):t.data.errorMessage?e.errorMessage(t.data.errorMessage):e.errorMessage("操作失败")}).catch(function(e){console.log(e)})}},created:function(){this.getTableList(),this.$store.dispatch("setCollapse",!0)}},l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"cms-body"},[a("div",{staticClass:"cms-list-header flex-between"},[a("router-link",{attrs:{to:"/sync/model/add"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[e._v("添加同步模型")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.getSyncModify}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"modelId",label:"模型ID",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"modelName",label:"模型名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"syncModel",label:"同步字段",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[a("el-input",{staticClass:"w80",model:{value:t.row.syncModel,callback:function(a){e.$set(t.row,"syncModel",a)},expression:"scope.row.syncModel"}})],1)}}])})],1),e._v(" "),a("div",{staticClass:"cms-list-footer"},[e.pickedData.length>0?a("el-button",{attrs:{type:"primary"},on:{click:e.saveSyncName}},[e._v("保存同步字段")]):a("el-button",{attrs:{type:"primary",disabled:""}},[e._v("保存同步字段")])],1)],1)},i=[],c={render:l,staticRenderFns:i},d=c,u=a("VU/8"),p=s,f=u(r,d,!1,p,null,null);t.default=f.exports},mAj4:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"",""])},p11t:function(e,t,a){var s=a("mAj4");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("4ac4920a",s,!0,{})}});