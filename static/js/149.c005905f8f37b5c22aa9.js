webpackJsonp([149],{AkHX:function(e,a,t){"use strict";function n(e){t("tzGC")}Object.defineProperty(a,"__esModule",{value:!0});var s=t("woOf"),l=t.n(s),o=t("bOdI"),i=t.n(o),c=t("lcoF"),r=t("mtWM"),d=t.n(r),f=t("x1ym"),m=t("vV/h"),p={mixins:[c.a],data:function(){var e,a=f.a.required(),t=f.a.number();return{params:{},rules:(e={name:[a],source:[a],accessKeyId:[a],accessKeySecret:[a],templateCode:[a],templateParam:[a],signName:[a],nationCode:[a],endPoint:[a],invokeId:[a],required:[a],randomNum:[t]},i()(e,"nationCode",[t]),i()(e,"effectiveTime",[t]),i()(e,"intervalTime",[t]),e),checkRes:!1}},methods:{getDataInfo:function(e){var a=this,t=this.$api;d.a.all([d.a.post(t.smsServerGET,{id:e})]).then(d.a.spread(function(e){a.dataInfo=e.body,a.$refs.form.resetFields(),a.loading=!1})).catch(function(e){a.loading=!1})},update:function(){var e=l()({},this.dataInfo);e.templateParam=this.dataInfo.templateParam.join(","),e.accessKeyId=Object(m.a)(this.dataInfo.accessKeyId,Object({NODE_ENV:"production"}).aesKey,Object({NODE_ENV:"production"}).ivKey),e.accessKeySecret=Object(m.a)(this.dataInfo.accessKeySecret,Object({NODE_ENV:"production"}).aesKey,Object({NODE_ENV:"production"}).ivKey),this.updateDataInfo(this.$api.smsServerUpdate,e,"list")},add:function(e){if(!this.checkRes){var a=l()({},this.dataInfo);a.accessKeyId=Object(m.a)(this.dataInfo.accessKeyId,Object({NODE_ENV:"production"}).aesKey,Object({NODE_ENV:"production"}).ivKey),a.accessKeySecret=Object(m.a)(this.dataInfo.accessKeySecret,Object({NODE_ENV:"production"}).aesKey,Object({NODE_ENV:"production"}).ivKey),this.saveDataInfo(e,this.$api.smsServerSave,a,"list")}}},created:function(){this.getDataInfo(this.id)}},u=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-body"},[t("cms-back"),e._v(" "),t("el-form",{ref:"form",staticClass:"cms-form",attrs:{model:e.dataInfo,rules:e.rules,"label-width":"162px"}},[t("el-form-item",{staticClass:"flex-50",attrs:{label:"名称",prop:"name"}},[t("el-input",{staticClass:"cms-width",attrs:{maxlength:"15"},model:{value:e.dataInfo.name,callback:function(a){e.$set(e.dataInfo,"name",a)},expression:"dataInfo.name"}})],1),e._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"选择运营商",prop:"source"}},[t("el-select",{model:{value:e.dataInfo.source,callback:function(a){e.$set(e.dataInfo,"source",a)},expression:"dataInfo.source"}},[t("el-option",{attrs:{value:1,label:"阿里云"}}),e._v(" "),t("el-option",{attrs:{value:2,label:"腾讯云"}}),e._v(" "),t("el-option",{attrs:{value:3,label:"百度云"}})],1)],1),e._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"accessKey",prop:"accessKeyId"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.accessKeyId,callback:function(a){e.$set(e.dataInfo,"accessKeyId",a)},expression:"dataInfo.accessKeyId"}})],1),e._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"accessKeySecret",prop:"accessKeySecret"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.accessKeySecret,callback:function(a){e.$set(e.dataInfo,"accessKeySecret",a)},expression:"dataInfo.accessKeySecret"}})],1),e._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"短信模板CODE",prop:"templateCode"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.templateCode,callback:function(a){e.$set(e.dataInfo,"templateCode",a)},expression:"dataInfo.templateCode"}})],1),e._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"发送短信间隔时间",prop:"intervalTime"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.intervalTime,callback:function(a){e.$set(e.dataInfo,"intervalTime",a)},expression:"dataInfo.intervalTime"}})],1),e._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"发送间隔时间单位",prop:"defValue"}},[t("el-select",{model:{value:e.dataInfo.intervalUnit,callback:function(a){e.$set(e.dataInfo,"intervalUnit",a)},expression:"dataInfo.intervalUnit"}},[t("el-option",{attrs:{value:0,label:"秒"}}),e._v(" "),t("el-option",{attrs:{value:1,label:"分"}}),e._v(" "),t("el-option",{attrs:{value:2,label:"时"}})],1)],1),e._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"验证码有效时间",prop:"effectiveTime"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.effectiveTime,callback:function(a){e.$set(e.dataInfo,"effectiveTime",a)},expression:"dataInfo.effectiveTime"}})],1),e._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"验证码有效时间单位",prop:"defValue"}},[t("el-select",{model:{value:e.dataInfo.effectiveUnit,callback:function(a){e.$set(e.dataInfo,"effectiveUnit",a)},expression:"dataInfo.effectiveUnit"}},[t("el-option",{attrs:{value:0,label:"秒"}}),e._v(" "),t("el-option",{attrs:{value:1,label:"分"}}),e._v(" "),t("el-option",{attrs:{value:2,label:"时"}})],1)],1),e._v(" "),2!=e.dataInfo.source?t("el-form-item",{staticClass:"flex-50",attrs:{label:"模板参数",prop:"templateParam"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.templateParam,callback:function(a){e.$set(e.dataInfo,"templateParam",a)},expression:"dataInfo.templateParam"}})],1):e._e(),e._v(" "),1==e.dataInfo.source?t("el-form-item",{staticClass:"flex-50",attrs:{label:"短信签名",prop:"signName"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.signName,callback:function(a){e.$set(e.dataInfo,"signName",a)},expression:"dataInfo.signName"}})],1):e._e(),e._v(" "),2==e.dataInfo.source?t("el-form-item",{staticClass:"flex-50",attrs:{label:"区域码",prop:"nationCode"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.nationCode,callback:function(a){e.$set(e.dataInfo,"nationCode",a)},expression:"dataInfo.nationCode"}})],1):e._e(),e._v(" "),3==e.dataInfo.source?t("el-form-item",{staticClass:"flex-50",attrs:{label:"SMS服务域名",prop:"endPoint"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.endPoint,callback:function(a){e.$set(e.dataInfo,"endPoint",a)},expression:"dataInfo.endPoint"}})],1):e._e(),e._v(" "),3==e.dataInfo.source?t("el-form-item",{staticClass:"flex-50",attrs:{label:"短信签名ID",prop:"invokeId"}},[t("el-input",{staticClass:"cms-width",model:{value:e.dataInfo.invokeId,callback:function(a){e.$set(e.dataInfo,"invokeId",a)},expression:"dataInfo.invokeId"}})],1):e._e(),e._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"验证码位数",prop:"randomNum"}},[t("el-input",{staticClass:"cms-width",attrs:{maxlength:"1"},model:{value:e.dataInfo.randomNum,callback:function(a){e.$set(e.dataInfo,"randomNum",a)},expression:"dataInfo.randomNum"}})],1),e._v(" "),t("div",{staticClass:"form-footer"},[t("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/smsServer/smsServer/add",expression:"'/smsServer/smsServer/add'"}],attrs:{type:"primary"},on:{click:function(a){e.add(!1)}}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{type:"info"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)},v=[],I={render:u,staticRenderFns:v},b=I,C=t("VU/8"),_=n,x=C(p,b,!1,_,null,null);a.default=x.exports},"BM/+":function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},tzGC:function(e,a,t){var n=t("BM/+");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("4acb7db0",n,!0,{})}});