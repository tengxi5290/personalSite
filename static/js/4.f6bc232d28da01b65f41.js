webpackJsonp([4],{"0TCc":function(n,e,t){"use strict";function a(n){t("mY9B")}Object.defineProperty(e,"__esModule",{value:!0});var s=t("nSkA"),o=t("lcoF"),i=(t("mtWM"),t("x1ym")),r={mixins:[o.a],data:function(){var n=i.a.required("此项必填");i.a.checkModeId();return{command:null,params:{},rules:{id:[n,i.a.number("只能输入数字")],global:[n],name:[n],showName:[n],tplChannelPrefix:[n],tplContentPrefix:[n],priority:[n],hasContent:[n],path:[n],templateIdH5:[n],templageIdPc:[n]},checkRes:!1}},methods:{getDataInfo:function(n,e){var t=this;s.a.get(e).then(function(n){"0"==n.data.errorCode?(t.loading=!1,t.dataInfo=n.data.data):n.data.errorMessage?t.errorMessage(n.data.errorMessage):t.errorMessage("请求失败")})},update:function(){this.updateDataInfo(this.$api.modelUpdate,this.dataInfo,"list")},reset:function(){this.dataInfo.showName="",this.dataInfo.name="",this.dataInfo.priority=""},add:function(n){var e=this;this.checkRes||(this.command?this.saveDataInfo(n,this.$api.modelSave+"?parentModelId="+this.command,this.dataInfo,"list",function(){setTimeout(function(){e.routerLink("/model/list")},1e3)}):this.saveDataInfo(n,this.$api.modelSave,this.dataInfo,"list",function(){setTimeout(function(){e.routerLink("/model/list")},1e3)}))},getUrlParams:function(n,e){e||(e=window.location.href),n=n.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),a=t.exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}},created:function(){this.$store.dispatch("setCollapse",!0);var n=void 0,e=this.$api,t=this.getUrlParams("id");this.command=this.getUrlParams("command"),this.dataInfo.priority=0,0!=t?(n=e.modelGet+"/"+t,this.getDataInfo(t,n)):(n=e.modelGet,this.loading=!1)}},l=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"cms-body"},[t("cms-back"),n._v(" "),t("el-form",{ref:"form",staticClass:"cms-form",attrs:{model:n.dataInfo,rules:n.rules,"label-width":"162px"}},[0!=n.id?t("el-form-item",{staticClass:"flex-50",attrs:{label:"模型ID"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"number",disabled:""},model:{value:n.dataInfo.id,callback:function(e){n.$set(n.dataInfo,"id",e)},expression:"dataInfo.id"}})],1):n._e(),n._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"模型名字",prop:"name"}},[t("el-input",{staticClass:"cms-width",model:{value:n.dataInfo.name,callback:function(e){n.$set(n.dataInfo,"name",e)},expression:"dataInfo.name"}})],1),n._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"展示名字",prop:"showName"}},[t("el-input",{staticClass:"cms-width",model:{value:n.dataInfo.showName,callback:function(e){n.$set(n.dataInfo,"showName",e)},expression:"dataInfo.showName"}})],1),n._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"排列顺序",prop:"priority"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"number"},model:{value:n.dataInfo.priority,callback:function(e){n.$set(n.dataInfo,"priority",e)},expression:"dataInfo.priority"}})],1),n._v(" "),t("div",{staticClass:"form-footer"},[0==n.id?t("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/model/add",expression:"'/model/add'"}],attrs:{type:"warning"},on:{click:function(e){n.add(!0)}}},[n._v("提交并继续添加")]):n._e(),n._v(" "),0==n.id?t("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/model/add",expression:"'/model/add'"}],attrs:{type:"primary"},on:{click:function(e){n.add(!1)}}},[n._v("提交")]):n._e(),n._v(" "),0!=n.id?t("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/model/edit",expression:"'/model/edit'"}],attrs:{type:"primary"},on:{click:function(e){n.update()}}},[n._v("修改")]):n._e(),n._v(" "),t("el-button",{attrs:{type:"info"},on:{click:n.reset}},[n._v("重置")])],1)],1)],1)},d=[],m={render:l,staticRenderFns:d},c=m,f=t("VU/8"),p=a,u=f(r,c,!1,p,null,null);e.default=u.exports},Vdop:function(n,e,t){e=n.exports=t("FZ+f")(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},mY9B:function(n,e,t){var a=t("Vdop");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("a09d68ee",a,!0,{})}});