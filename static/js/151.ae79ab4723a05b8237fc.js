webpackJsonp([151],{"1k77":function(e,t,s){t=e.exports=s("FZ+f")(!1),t.push([e.i,"\n.content-fiexd {\n     bottom: auto;\n}\n.list {\n     max-height: 80vh;\n     margin: 0 auto;\n     padding: 0;\n     overflow: auto;\n     background-color: #f3f3f3;\n     border: 1px solid #efefef;\n     border-radius: 3;\n}\n.list-item {\n     display: -webkit-box;\n     display: -ms-flexbox;\n     display: flex;\n     -webkit-box-align: center;\n     -ms-flex-align: center;\n     align-items: center;\n     width: 100%;\n     padding: 20px;\n     background-color: #fff;\n     border-bottom: 1px solid #efefef;\n     -webkit-box-sizing: border-box;\n             box-sizing: border-box;\n     -webkit-user-select: none;\n     -moz-user-select: none;\n     -ms-user-select: none;\n     user-select: none;\n     color: #333;\n     font-weight: 400;\n}\n",""])},J9HF:function(e,t,s){var a=s("1k77");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("rjj0")("7cbe3bec",a,!0,{})},Xigt:function(e,t,s){"use strict";function a(e){s("J9HF")}Object.defineProperty(t,"__esModule",{value:!0});var o=(s("7+uW"),s("lcoF")),r=(s("YZ0n"),s("mtWM"),s("nSkA")),n=s("x1ym"),i={mixins:[o.a],data:function(){var e=n.a.required("此项必填");return{tableData:[],dialogFormVisible:!1,form:{tagName:null,tagId:null,zscore:null},rules:{tagName:[e],zscore:[e]}}},methods:{getWitnessTagList:function(){var e=this;r.a.get(this.$api.witnessTagList).then(function(t){0==t.data.errorCode?e.tableData=t.data.data:t.data.errorMessage?e.errorMessage(t.data.errorMessage):e.errorMessage("操作失败")}).catch(function(e){console.log(e)})},checkLeagle:function(e){if(Object(r.f)(e.zscore))return this.errorMessage("权重值不能为空哦！"),!1;this.updateWitnessTag(e)},updateWitnessTag:function(e){var t=this;r.a.put(this.$api.witnessTagUpdate,e).then(function(e){0==e.data.errorCode?(t.successMessage("操作成功"),t.getWitnessTagList()):e.data.errorMessage?t.errorMessage(e.data.errorMessage):t.errorMessage("操作失败")}).catch(function(e){console.log(e)})},resetForm:function(){this.form.zscore=null,this.form.tagName=null},addTag:function(){this.resetForm(),this.dialogFormVisible=!0},sureAdd:function(){return Object(r.f)(this.form.tagName)||null===this.form.tagName?(this.errorMessage("请补全标签名称"),!1):Object(r.f)(this.form.zscore)||null===this.form.zscore?(this.errorMessage("请补全权重"),!1):(this.updateWitnessTag(this.form),void(this.dialogFormVisible=!1))}},created:function(){this.$store.dispatch("setCollapse",!0)},mounted:function(){this.getWitnessTagList()}},l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"cms-list-header clearfix flex",staticStyle:{padding:"0 24px 16px 24px","flex-wrap":"wrap"}},[s("div",{staticClass:"content-flex-left",staticStyle:{"margin-top":"16px",flex:"auto"}},[s("el-button",{attrs:{type:"primary"},on:{click:e.addTag}},[e._v("添加目击者标签")])],1)]),e._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[s("el-table-column",{attrs:{type:"selection",width:"65",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"tagId",label:"标签Id",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"tagName",label:"标签名称",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"zscore",label:"权重",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return s("div",{},[s("el-input",{staticClass:"w50",attrs:{type:"number"},on:{blur:function(s){e.checkLeagle(t.row)}},model:{value:t.row.zscore,callback:function(s){e.$set(t.row,"zscore",s)},expression:"scope.row.zscore"}})],1)}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"添加目击者标签",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"ruleForm",staticClass:"cms-form",staticStyle:{margin:"0",padding:"0"},attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{staticClass:"flex-100",attrs:{label:"标签名称",prop:"tagName"}},[s("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),e._v(" "),s("el-form-item",{staticClass:"flex-100",attrs:{label:"权重",prop:"zscore"}},[s("el-input",{attrs:{type:"number"},model:{value:e.form.zscore,callback:function(t){e.$set(e.form,"zscore",t)},expression:"form.zscore"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:e.sureAdd}},[e._v("确定添加")])],1)],1)],1)},c=[],u={render:l,staticRenderFns:c},d=u,f=s("VU/8"),g=a,m=f(i,d,!1,g,null,null);t.default=m.exports}});