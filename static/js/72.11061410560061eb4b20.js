webpackJsonp([72],{SAaD:function(t,a,e){var i=e("up78");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("bc8d2654",i,!0,{})},ax8Y:function(t,a,e){"use strict";function i(t){e("SAaD")}Object.defineProperty(a,"__esModule",{value:!0});var s=(e("mtWM"),e("nSkA")),n=e("5HJ5"),l={mixins:[n.a],data:function(){return{params:{flag:4,date:null,page:1,pageSize:10,title:null,enable:!1},allTotal:null,tableData:[],time:"",siteName:null}},methods:{getNowFormatDate:function(t){var a=new Date,e=a.getFullYear(),i=a.getMonth()+1,s=a.getDate();i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s);var n=e+"-"+i+"-"+s;return this.time=n,t(),n},getYesterday:function(){var t=new Date;t.setTime(t.getTime()-864e5);var a=t.getMonth()+1,e=t.getDate();return a>=1&&a<=9&&(a="0"+a),e>=0&&e<=9&&(e="0"+e),t.getFullYear()+"-"+a+"-"+e},getStatisticData:function(t,a){var e=this,i="/api/Daren/dataCount/content.action?channelId="+this.siteName+"&page="+this.params.page+"&pageSize="+this.params.pageSize;null!==t&&void 0!==t&&""!==t&&(i=i+"&title="+t),null!==a&&void 0!==a&&""!==a&&(i=i+"&time="+a),$.ajax({type:"get",url:i,headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"},success:function(t){e.tableData=t.data.list,e.allTotal=t.data.total},error:function(t){console.log(t)}})},getSiteAbbrName:function(t,a){var e=this;s.a.get(this.$api.site+"/"+t).then(function(t){if(0==t.data.errorCode){var i=void 0;switch(t.data.data.shortName){case"视讯中国":i="sxzg";break;case"娱乐中国":i="ylzg";break;case"视频中国":i="spzg";break;case"直播中国":i="zbzg";break;case"文化中国":i="whzg";break;default:i=null}e.siteName=i,a()}else t.data.errorMessage?e.errorMessage(t.data.errorMessage):e.errorMessage("操作失败")}).catch(function(t){console.log(t)})},checkQuery:function(){void 0==this.params.title||null==this.params.title||Object(s.f)(this.params.title)?this.params.enable=!1:this.params.enable=!0},doQuery:function(){this.params.page=1,this.params.pageSize=10,this.getStatisticData(this.params.title,this.params.date)},pickDate:function(t){this.getStatisticData(this.params.title,this.params.date)},getPages:function(t,a){this.params.page=t,this.params.pageSize=a,this.getStatisticData(null,null)}},created:function(){var t=this;this.getSiteAbbrName(window.localStorage.getItem("_site_id_param"),function(){t.getNowFormatDate(function(){t.getStatisticData(t.params.title,t.params.date)})})}},r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"cms-body cms-chart-box"},[e("div",{staticClass:"cms-list-header",staticStyle:{"padding-left":"0"}},[e("h5",{staticClass:"data-header-title"},[t._v("访问日排行("+t._s(t.time)+")")]),t._v(" "),e("div",{staticClass:"flex-date"},[e("label",{staticClass:"cms-label",staticStyle:{"margin-left":"0"}},[t._v("日期：")]),t._v(" "),e("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:t.pickDate},model:{value:t.params.date,callback:function(a){t.$set(t.params,"date",a)},expression:"params.date"}})],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"create_time",label:"日期",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"title",label:"标题",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"pv",label:"访问次数",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"uv",label:"访问用户",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"uip",label:"独立ip",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"new_user",label:"新增用户",align:"center"}})],1),t._v(" "),e("div",{staticClass:"cms-list-footer",staticStyle:{"padding-bottom":"100px"}},[e("cms-pagination",{attrs:{total:t.allTotal,pageSize:t.params.pageSize,page:t.params.page,init:!0},on:{change:t.getPages}})],1)],1)},o=[],c={render:r,staticRenderFns:o},p=c,d=e("VU/8"),m=i,g=d(l,p,!1,m,"data-v-4a197835",null);a.default=g.exports},up78:function(t,a,e){a=t.exports=e("FZ+f")(!1),a.push([t.i,"\n.data-item[data-v-4a197835] {\n  float: left;\n  min-width: 170px;\n  margin-top: 30px;\n}\n.data-item .data-title[data-v-4a197835] {\n    font-size: 12px;\n    color: #878d99;\n    margin-bottom: 17px;\n}\n.data-item .data-num[data-v-4a197835] {\n    color: #353535;\n    font-size: 24px;\n}\n.chart-style[data-v-4a197835] {\n  width: 100%;\n  height: 380px;\n  border-bottom: 1px dashed #eee;\n  margin-bottom: 15px;\n}\n",""])}});